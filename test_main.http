# Endpoint raíz
# Validaciones:
# - Que la API este funcionando en el ambiente esperado
GET http://127.0.0.1:8000/
Accept: application/json

###

# Usuarios

# Registrar un nuevo usuario
# Rol requerido: usuario
# Validaciones:
# - Que no exista un usuario ya registrado mediante el DNI o correo eléctronico
# - Que el formato de los campos coincidan con los del dominio
POST http://127.0.0.1:8000/register
Content-Type: application/json

{
  "dniNumber": "1036928592",
  "dniType": "CÉDULA CIUDADANÍA",
  "firstName": "Santiago",
  "lastName": "Valencia",
  "phoneNumber": "3024508215",
  "emailAddress": "fenixcaps@gmail.com"
}

###

# Iniciar sesión de un usuario
# Rol requerido: usuario
# Validaciones:
# - Que DNI y correo electrónico coincidian con los de un usuario registrado
POST http://127.0.0.1:8000/login
Content-Type: application/json

{
  "dniNumber": "1036928592",
  "emailAddress": "fenixcaps@gmail.com"
}

###

# Celdas

# Crear una nueva celda
# Rol requerido: administrador
# Validaciones:
# - Que no se registre una celda con un número de espacio ya asociado a otra celda
# - Que el formato de los campos coincidan con los del dominio
POST http://127.0.0.1:8000/create-cell
Content-Type: application/json

{
  "spaceNumber": "1",
  "vehicleType": "AUTOMÓVIL",
  "status": "DISPONIBLE"
}

###

# Vehículos

# Crear un nuevo vehículo
# Rol requerido: usuario
# Validaciones:
# - Que no se registre un vehículo sin un ID de usuario asociado
# - Que no se registre un vehiculo con un número de placa ya asociado a otro vehículo
# - Que el formato de los campos coincidan con los del dominio
POST http://127.0.0.1:8000/create-vehicle
Content-Type: application/json

{
  "userId": "c95905d5-45dc-4088-a479-92be9133c107",
  "licensePlate": "AAA777",
  "model": "Zephyr X1",
  "vehicleType": "AUTOMÓVIL"
}

###

# Reservas

# Crear una nueva reserva
# Rol requerido: usuario
# Validaciones:
# - Que no se registre una reserva sin un ID de usuario asociado
# - Que no se registre una reserva si la celda se encuentra en un estado diferente a disponible
# - Que no se registre una reserva si el tipo de vehiculo es incompatible con la celda
POST http://127.0.0.1:8000/create-reservation
Content-Type: application/json

{
  "userId": "c95905d5-45dc-4088-a479-92be9133c107",
  "cellId": "c5f96e48-479b-4d05-8ea1-14a6a7c899bb",
  "vehicleId": "5d4d0b1c-375e-406b-9953-f9e78da18f02"
}

###

# Cancelar una reserva
# Rol requerido: usuario
# Validaciones:
# - Que exista la reserva
POST http://127.0.0.1:8000/cancel-reservation
Content-Type: application/json

{
  "reservationId": "b0170041-a243-4c3c-83d4-8ba165c50b65"
}

###
# Rechazar una reserva
# Rol requerido: administrador
# Validaciones:
# - Que exista la reserva
POST http://127.0.0.1:8000/reject-reservation
Content-Type: application/json

{
  "reservationId": "20843587-3b38-4d32-b50f-95fdb25340d2"
}

###

# Confirmar una reserva
# Validaciones:
# - Que exista la reserva
POST http://127.0.0.1:8000/confirm-reservation
Content-Type: application/json

{
  "reservationId": "b0170041-a243-4c3c-83d4-8ba165c50b65"
}

###

# Completar una reserva
# Validaciones:
# - Que exista la reserva
POST http://127.0.0.1:8000/complete-reservation
Content-Type: application/json

{
  "reservationId": "b1a1769a-6fd1-467d-a649-39778ab69965"
}

###

# Obtener todas las reservas
# Validaciones:
# - Que existan reservas
GET http://127.0.0.1:8000/reservations
Content-Type: application/json

###

# Obtener una reserva por su ID
# Validaciones:
# - Que exista la reserva
GET http://127.0.0.1:8000/reservation/20843587-3b38-4d32-b50f-95fdb25340d2
Content-Type: application/json

###

# Empleados

# Crear un nuevo empleado
# Validaciones:
# - Que no se registre un empleado sin un ID de usuario asociado
# - Que no se registre un empleado con un ID de usuario ya asociado a otro empleado
# - Que el formato de los campos coincidan con los del dominio
POST http://127.0.0.1:8000/create-employee
Content-Type: application/json

{
  "userId": "6eb5d283-4ad9-4fc3-b7e0-7f4476e1a564",
  "position": "GERENTE",
  "salary": "1000000"
}